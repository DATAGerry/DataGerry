<div class="d-flex justify-content-between align-items-center mb-3">
  <h2>Persons</h2>
  <button class="btn btn-sm btn-success" (click)="onAddNew()">
    <i class="fas fa-plus"></i> Add Person
  </button>
</div>
<hr />

<cmdb-table
  [items]="persons"
  [columns]="columns"
  [page]="page"
  [sort]="sort"
  [id]="'persons-table'"
  [emptyMessage]="'No Persons found.'"
  [totalItems]="totalPersons"
  [selectEnabled]="false"
  [loading]="loading"
  [pageSize]="limit"
  [toggleable]="true"
  [initialVisibleColumns]="initialVisibleColumns"
  (pageChange)="onPageChange($event)"
  (pageSizeChange)="onPageSizeChange($event)"
  (sortChange)="onSortChange($event)"
  (searchChange)="onSearchChange($event)"
>
</cmdb-table>

<!-- Action buttons template -->
<ng-template #actionTemplate let-item="item">
  <!-- View button -->
  <i class="far fa-eye icon-margin spacing-right"
     (click)="onView(item)"
     title="View Person"></i>
  <!-- Edit button -->
  <i class="far fa-edit icon-margin icon-edit spacing-right"
     (click)="onEdit(item)"
     title="Edit Person"></i>
  <!-- Delete button -->
  <i class="far fa-trash-alt icon-delete"
     (click)="onDelete(item)"
     title="Delete Person"></i>
</ng-template>
