<div class="modal-header">
  <h4 class="modal-title">
    {{ isEditMode ? 'Edit Risk Class' : 'Add Risk Class' }}
  </h4>
  <!-- "X" close button -->
  <button type="button" class="close" (click)="onCancel()">
    <span aria-hidden="true">Ã—</span>
  </button>
</div>

<div class="modal-body">
  <form [formGroup]="form" (ngSubmit)="onSubmit()">
    <!-- Row: Name & Color side by side -->
    <div class="row mb-3">
      <!-- NAME (Required) -->
      <div class="col-6">
        <div class="form-group">
          <label for="riskClassName" class="form-label">
            Name <span class="text-danger">*</span>
          </label>
          <input
            id="riskClassName"
            type="text"
            class="form-control"
            formControlName="name"
            placeholder="Enter a name..."
          />
          <!-- Error message below the field -->
          <div
            class="invalid-feedback d-block"
            *ngIf="form.get('name')?.invalid && (form.get('name')?.touched || form.get('name')?.dirty)"
          >
            Name is required.
          </div>
        </div>
      </div>

      <!-- COLOR (Required) -->
      <div class="col-6">
        <div class="form-group">
          <label for="riskClassColor" class="form-label">
            Color <span class="text-danger">*</span>
          </label>
          <input
            id="riskClassColor"
            type="color"
            class="form-control form-control-color wide-color-bar"
            formControlName="color"
          />
          <!-- Error message below the field -->
          <div
            class="invalid-feedback d-block"
            *ngIf="form.get('color')?.invalid && (form.get('color')?.touched || form.get('color')?.dirty)"
          >
            Color is required.
          </div>
        </div>
      </div>
    </div>

    <!-- DESCRIPTION (Required) -->
    <div class="mb-3">
      <div class="form-group">
        <label for="riskClassDescription" class="form-label">
          Description 
        </label>
        <textarea
          id="riskClassDescription"
          class="form-control"
          formControlName="description"
          rows="3"
          placeholder="Enter a description..."
        ></textarea>
      </div>
    </div>

    <!-- Modal Footer -->
    <div class="modal-footer">
      <button
        type="button"
        class="btn btn-secondary"
        (click)="onCancel()"
      >
        Cancel
      </button>
      <button
        type="submit"
        class="btn btn-success"
        [disabled]="isSubmitting || form.invalid"
      >
        <span *ngIf="!isSubmitting">
          {{ isEditMode ? 'Save Changes' : 'Add Risk Class' }}
        </span>
        <span
          *ngIf="isSubmitting"
          class="spinner-border spinner-border-sm"
        ></span>
      </button>
    </div>
  </form>
</div>
